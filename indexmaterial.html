<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PixelNest Portfolio - Material 3 Dynamic</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Manrope:wght@400;500;700;800&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="shortcut icon" href="Media/gallery.png" type="image/png">
  <style>
    /* Chosen Palette: Dynamic Material 3 Palette (User-Generated, with Dark/Light Toggle) */
    /* Application Structure Plan: A traditional portfolio layout with a sticky header, hero section, a grid of project cards, and an about/footer section. The dynamic color picker and theme toggle are integrated into the header for easy access. This structure is chosen to present portfolio items clearly while allowing users to interact with and personalize the theme, showcasing M3's adaptive nature on a familiar layout. */
    /* Visualization & Content Choices:
      - Report Info: Portfolio items, navigation, general page layout. Goal: Inform & Organize. Viz/Method: Responsive grid, cards, text blocks, navigation links. Interaction: Standard click navigation, image modals, description toggles. Justification: Maintains original content presentation with M3 aesthetic. Library: Vanilla JS, Tailwind CSS.
      - Report Info: Theming. Goal: Interact & Personalize. Viz/Method: Color picker with live theme update, dedicated light/dark toggle button. Interaction: User selects color, page updates instantly; user clicks button to switch theme. Justification: Directly demonstrates M3 dynamic color and theme adaptability. Library: @material/material-color-utilities.
      - Report Info: Buttons. Goal: Call to action, navigation. Viz/Method: M3-styled buttons (Filled, Text, Outlined). Interaction: Hover, click with M3-like transitions. Justification: Aligns with M3 emphasis hierarchy and motion principles. Library: Tailwind CSS.
      - Report Info: Cards. Goal: Group content. Viz/Method: M3-styled cards with more rounded corners and elevated/surface container colors. Interaction: Hover with subtle elevation change. Justification: M3 emphasizes subtle elevation and expressive roundedness. Library: Tailwind CSS.
      - Report Info: Transitions & Motion. Goal: Enhance user feedback and delight. Viz/Method: Custom CSS transitions (cubic-bezier), subtle transform animations on hover/active states. Interaction: Visual feedback on interaction. Justification: Emulates M3 motion principles where native shape morphing is not available. Library: CSS.
    */
    /* CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. */

    /* CSS variables for consistent theming */
    :root{
      /* M3 Shape Tokens (translated from dp to rem/px for consistency) */
      --m3-shape-corner-none: 0px;
      --m3-shape-corner-xs: 4px;
      --m3-shape-corner-sm: 8px;
      --m3-shape-corner-md: 12px;
      --m3-shape-corner-lg: 16px;
      --m3-shape-corner-xl: 28px; /* More pronounced rounded corners */
      --m3-shape-corner-xxl: 36px; /* Custom larger radius for very rounded elements */
      --m3-shape-corner-full: 999px; /* For perfect circles/pills */
    }

    /* Static Fallback Theme (Dark) - Will be overridden by dynamic theme if JS runs */
    /* These values are a neutral starting point if JS fails or for initial load */
    body {
      /* Dark Theme Fallback */
      --md-sys-color-primary: #D0BCFF;
      --md-sys-color-on-primary: #381E72;
      --md-sys-color-primary-container: #4F378B;
      --md-sys-color-on-primary-container: #EADDFF;
      --md-sys-color-secondary: #CCC2DC;
      --md-sys-color-on-secondary: #332D41;
      --md-sys-color-secondary-container: #4A4458;
      --md-sys-color-on-secondary-container: #E8DEF8;
      --md-sys-color-tertiary: #EFB8C8;
      --md-sys-color-on-tertiary: #492532;
      --md-sys-color-tertiary-container: #633B48;
      --md-sys-color-on-tertiary-container: #FFD8E4;
      --md-sys-color-error: #F2B8B5;
      --md-sys-color-on-error: #601410;
      --md-sys-color-error-container: #8C1D18;
      --md-sys-color-on-error-container: #F9DEDC;
      --md-sys-color-background: #1C1B1F;
      --md-sys-color-on-background: #E6E1E5;
      --md-sys-color-surface: #1C1B1F;
      --md-sys-color-on-surface: #E6E1E5;
      --md-sys-color-surface-variant: #49454F;
      --md-sys-color-on-surface-variant: #CAC4D0;
      --md-sys-color-outline: #938F99;
      --md-sys-color-outline-variant: #49454F;
      --md-sys-color-shadow: #000000;
      --md-sys-color-scrim: #000000;
      --md-sys-color-inverse-surface: #E6E1E5;
      --md-sys-color-inverse-on-surface: #313033;
      --md-sys-color-inverse-primary: #6750A4;
      --md-sys-color-surface-dim: #1C1B1F;
      --md-sys-color-surface-bright: #3B383E;
      --md-sys-color-surface-container-lowest: #121113;
      --md-sys-color-surface-container-low: #201F23;
      --md-sys-color-surface-container: #242226;
      --md-sys-color-surface-container-high: #2F2D32;
      --md-sys-color-surface-container-highest: #3B383E;
    }

    body.light {
      /* Light Theme Fallback (manual definition if JS fails to apply theme) */
      --md-sys-color-primary: #6750A4;
      --md-sys-color-on-primary: #FFFFFF;
      --md-sys-color-primary-container: #EADDFF;
      --md-sys-color-on-primary-container: #21005D;
      --md-sys-color-secondary: #625B71;
      --md-sys-color-on-secondary: #FFFFFF;
      --md-sys-color-secondary-container: #E8DEF8;
      --md-sys-color-on-secondary-container: #1D192B;
      --md-sys-color-tertiary: #7D5260;
      --md-sys-color-on-tertiary: #FFFFFF;
      --md-sys-color-tertiary-container: #FFD8E4;
      --md-sys-color-on-tertiary-container: #31111D;
      --md-sys-color-error: #B3261E;
      --md-sys-color-on-error: #FFFFFF;
      --md-sys-color-error-container: #F9DEDC;
      --md-sys-color-on-error-container: #410E0B;
      --md-sys-color-background: #FFFBFE;
      --md-sys-color-on-background: #1C1B1F;
      --md-sys-color-surface: #FFFBFE;
      --md-sys-color-on-surface: #1C1B1F;
      --md-sys-color-surface-variant: #E7E0EC;
      --md-sys-color-on-surface-variant: #49454F;
      --md-sys-color-outline: #79747E;
      --md-sys-color-outline-variant: #CAC4D0;
      --md-sys-color-shadow: #000000;
      --md-sys-color-scrim: #000000;
      --md-sys-color-inverse-surface: #313033;
      --md-sys-color-inverse-on-surface: #F4EFF4;
      --md-sys-color-inverse-primary: #D0BCFF;
      --md-sys-color-surface-dim: #DED8E1;
      --md-sys-color-surface-bright: #FFFBFE;
      --md-sys-color-surface-container-lowest: #FFFFFF;
      --md-sys-color-surface-container-low: #F7F2FA;
      --md-sys-color-surface-container: #F3EDF7;
      --md-sys-color-surface-container-high: #ECE6F0;
      --md-sys-color-surface-container-highest: #E6E0E9;
    }


    body{
      transition:
        opacity 0.7s ease-in-out,
        background-color 0.5s cubic-bezier(0.2, 0, 0, 1),
        color 0.5s cubic-bezier(0.2, 0, 0, 1);
      margin:0;
      font-family:'Roboto', 'Inter', sans-serif; /* Prioritize Roboto for M3 feel */
      background-color: var(--md-sys-color-background); /* Use M3 background color */
      color: var(--md-sys-color-on-background); /* Use M3 on-background color */
      background-image: none; /* Remove previous radial gradients */
      background-attachment:fixed;
      overflow-x:hidden;
    }
    body.page-loaded{opacity:1;}
    body.page-leaving{opacity:0;}
    *{box-sizing:border-box;}
    html,body{height:100%;}
    html{scroll-behavior:smooth;}

    /* Header section styles */

header {
  position: sticky;
  top: 0;
  width: 95%;
  left: 0;
  right: 0;
  margin: 0 auto;
  padding: 20px 0;
  z-index: 100;
  background-color: var(--md-sys-color-surface-container-low);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
  border-bottom-left-radius: var(--m3-shape-corner-xl);
  border-bottom-right-radius: var(--m3-shape-corner-xl);
  transition: background-color 0.5s cubic-bezier(0.2, 0, 0, 1), box-shadow 0.5s cubic-bezier(0.2, 0, 0, 1);
}
    .wrap {
      max-width: fit-content;
      margin: 0 auto;
      padding: 0 40px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 20px;
    }
    .brand {
      font-family: 'Manrope', sans-serif;
      font-weight: 800;
      font-size: 24px;
      color: var(--md-sys-color-primary); /* Use M3 primary color */
      text-decoration: none;
      letter-spacing: -0.8px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .brand-logo {
      width: 42px; /* Slightly larger logo */
      height: 42px;
      border-radius: var(--m3-shape-corner-lg); /* M3 Large shape */
      display: grid;
      place-items: center;
      background: linear-gradient(135deg, var(--md-sys-color-primary-container), var(--md-sys-color-tertiary-container)); /* M3 inspired gradient */
      border: 1px solid var(--md-sys-color-outline-variant);
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      transition: background 0.5s cubic-bezier(0.2, 0, 0, 1), border-color 0.5s cubic-bezier(0.2, 0, 0, 1), box-shadow 0.5s cubic-bezier(0.2, 0, 0, 1);
    }
    .brand-logo::before{
        content:"ðŸ“¸";
        font-weight:800;
        font-size:22px; /* Slightly larger emoji */
        color: var(--md-sys-color-on-primary-container); /* M3 on-primary-container */
        text-shadow:0 1px 10px rgba(255,255,255,.4);
        transition: color 0.5s cubic-bezier(0.2, 0, 0, 1);
    }

    /* Main navigation links styling */
    nav {
        display: flex;
        align-items: center;
        gap: 30px;

    }
    nav a.nav-link {
        padding: 10px 18px; /* Increased padding */
        border-radius: var(--m3-shape-corner-full); /* M3 Full shape for pill-like links */
        font-size: 16px; /* Slightly larger font */
        color: var(--md-sys-color-on-surface-variant); /* M3 on-surface-variant */
        text-decoration: none;
        transition: color 0.4s cubic-bezier(0.2, 0, 0, 1), background-color 0.4s cubic-bezier(0.2, 0, 0, 1);
        position: relative;
        z-index: 1;
    }
    nav a.nav-link::before {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        width: 0;
        height: 3px; /* Thicker underline */
        background-color: var(--md-sys-color-primary); /* M3 primary color for underline */
        transition: all 0.4s cubic-bezier(0.2, 0, 0, 1);
        transform: translateX(-50%);
        border-radius: 9999px;
    }
    nav a.nav-link:hover {
        color: var(--md-sys-color-on-surface); /* M3 on-surface */
        background-color: var(--md-sys-color-surface-container-high); /* Subtle background on hover */
    }
    nav a.nav-link:hover::before {
        width: calc(100% - 24px); /* Extend underline more */
    }

    /* Call-to-action buttons styling in header */
    .cta-buttons {
        display: flex;
        gap: 15px;
        align-items: center;
    }
    .cta-buttons .btn-action {
        padding: 12px 26px; /* Increased padding */
        border: none;
        border-radius: var(--m3-shape-corner-full); /* M3 Full shape */
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.2, 0, 0, 1);
        text-decoration: none;
        box-shadow: 0 4px 10px rgba(0,0,0,0.3); /* Lighter shadow */
    }
    .cta-buttons .btn-auralis {
        background-color: var(--md-sys-color-primary); /* Use M3 primary */
        color: var(--md-sys-color-on-primary); /* Use M3 on-primary */
        border: 1px solid var(--md-sys-color-primary);
    }
    .cta-buttons .btn-auralis:hover {
        background-color: color-mix(in srgb, var(--md-sys-color-primary) 85%, var(--md-sys-color-on-primary)); /* Slightly darker mix */
        border-color: color-mix(in srgb, var(--md-sys-color-primary) 85%, var(--md-sys-color-on-primary));
        transform: translateY(-4px); /* More pronounced lift */
        box-shadow: 0 8px 20px rgba(var(--md-sys-color-primary-rgb), 0.6); /* More intense shadow */
    }
    
    /* M3-style Toggle Button */
    .m3-toggle-button {
      padding: 10px 18px;
      border-radius: var(--m3-shape-corner-full);
      font-size: 15px;
      font-weight: 500;
      cursor: pointer;
      border: 1px solid var(--md-sys-color-outline);
      background-color: transparent;
      color: var(--md-sys-color-on-surface-variant);
      transition: all 0.4s cubic-bezier(0.2, 0, 0, 1);
      white-space: nowrap; /* Prevent text wrapping */
    }
    .m3-toggle-button:hover {
      background-color: var(--md-sys-color-surface-container-high);
      color: var(--md-sys-color-on-surface);
      border-color: var(--md-sys-color-outline);
    }


    /* Hero section styles */
    .hero {
      text-align: center;
      padding: 120px 40px 80px;
      max-width: 900px;
      margin: 0 auto;
    }
    .hero h1 {
      margin: 0 0 20px;
      font-size: clamp(48px, 7vw, 90px);
      line-height: 1.05;
      font-weight: 800;
      color: var(--md-sys-color-on-background); /* M3 on-background */
      text-shadow: 0 10px 40px rgba(0,0,0,.7); /* Deeper shadow for dark theme text */
      transition: color 0.5s cubic-bezier(0.2, 0, 0, 1);
    }
    .hero p {
      margin: 0 auto 40px;
      color: var(--md-sys-color-on-surface-variant); /* M3 on-surface-variant */
      font-size: clamp(18px, 2.5vw, 24px);
      line-height: 1.5;
      transition: color 0.5s cubic-bezier(0.2, 0, 0, 1);
    }
    .hero-buttons {
      margin-top: 40px;
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }
    .hero-buttons .btn-hero {
        padding: 16px 32px; /* Larger buttons */
        border-radius: var(--m3-shape-corner-full); /* M3 Full shape */
        font-size: 18px; /* Larger font */
        font-weight: 700;
        text-transform: none;
        border: 1px solid transparent;
        transition: all 0.4s cubic-bezier(0.2, 0, 0, 1);
        box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    }
    .hero-buttons .btn-hero:nth-child(1) { /* "Explore Gallery" button style (Filled Button) */
        background-color: var(--md-sys-color-primary);
        color: var(--md-sys-color-on-primary);
        border-color: var(--md-sys-color-primary);
    }
    .hero-buttons .btn-hero:nth-child(1):hover {
        background-color: color-mix(in srgb, var(--md-sys-color-primary) 90%, var(--md-sys-color-on-primary));
        border-color: color-mix(in srgb, var(--md-sys-color-primary) 90%, var(--md-sys-color-on-primary));
        transform: translateY(-4px); /* More pronounced lift */
        box-shadow: 0 12px 30px rgba(0,0,0,0.5);
    }
    .hero-buttons .btn-hero:nth-child(2) { /* "Contact Us" button style (Outlined Button) */
        background-color: transparent;
        color: var(--md-sys-color-primary);
        border-color: var(--md-sys-color-outline); /* M3 outline color */
    }
    .hero-buttons .btn-hero:nth-child(2):hover {
        background-color: var(--md-sys-color-primary-container);
        color: var(--md-sys-color-on-primary-container);
        border-color: var(--md-sys-color-primary);
        transform: translateY(-4px); /* More pronounced lift */
        box-shadow: 0 12px 30px rgba(0,0,0,0.5);
    }
    .hero-buttons .btn-hero:active {
        transform: translateY(0);
        box-shadow: 0 6px 15px rgba(0,0,0,0.3);
    }

    /* Portfolio grid and card styles */
    .grid{
      display:grid;
      gap:30px; /* Increased gap */
      grid-template-columns:repeat(auto-fill, minmax(320px, 1fr));
      padding:50px 40px 100px;
    }
    @media (min-width: 1024px) {
        .grid {
            grid-template-columns: repeat(3, 1fr);
        }
    }
    @media (min-width: 768px) and (max-width: 1023px) {
        .grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    .card{
      position:relative;
      border-radius:var(--m3-shape-corner-xl); /* More rounded cards */
      background-color: var(--md-sys-color-surface-container); /* M3 surface container */
      border:1px solid var(--md-sys-color-outline-variant); /* M3 outline variant for border */
      box-shadow:0 8px 24px rgba(0,0,0,0.2); /* Lighter shadow for M3, more subtle in dark */
      padding:20px; /* Increased padding */
      overflow:hidden;
      transition:transform .3s cubic-bezier(0.2, 0, 0, 1), box-shadow .3s cubic-bezier(0.2, 0, 0, 1), background-color .3s cubic-bezier(0.2, 0, 0, 1), border-color .3s cubic-bezier(0.2, 0, 0, 1);
      isolation:isolate;
      display:flex;
      flex-direction:column;
    }
    .card::after{ /* Remove pseudo-element radial gradient effect */
      content:"";background:none;
    }
    .card:hover{transform:translateY(-10px) scale(1.03);border-color:var(--md-sys-color-primary); box-shadow:0 15px 40px rgba(0,0,0,.3);}
    .card .portfolio-img-container{
        width:100%;
        padding-bottom:70%;
        position:relative;
        margin-bottom:20px; /* Increased margin */
        border-radius:var(--m3-shape-corner-lg); /* M3 Large shape for image container */
        overflow:hidden;
        box-shadow:0 6px 18px rgba(0,0,0,0.2);
        transition: border-radius 0.4s cubic-bezier(0.2, 0, 0, 1), box-shadow 0.4s cubic-bezier(0.2, 0, 0, 1);
    }
    .card .portfolio-img-container .portfolio-img{
        position:absolute;
        top:0;
        left:0;
        width:100%;
        height:100%;
        object-fit:cover;
        transition: transform 0.4s cubic-bezier(0.2, 0, 0, 1);
    }
    .card .portfolio-img-container:hover .portfolio-img{transform:scale(1.1);} /* More pronounced image zoom */
    .meta{display:flex;align-items:center;gap:15px;margin-bottom:15px; transition: color 0.5s cubic-bezier(0.2, 0, 0, 1);}
    .thumb{
      width:65px; /* Slightly larger thumb */
      height:65px;
      border-radius:50%;
      flex:0 0 auto;
      background:linear-gradient(135deg, var(--md-sys-color-primary-container), var(--md-sys-color-secondary-container)); /* M3 inspired gradient */
      border:1px solid var(--md-sys-color-outline-variant);
      box-shadow:inset 0 0 15px rgba(255,255,255,.08), 0 6px 18px rgba(0,0,0,.2);
      position:relative;overflow:hidden;
      transition: background 0.5s cubic-bezier(0.2, 0, 0, 1), border-color 0.5s cubic-bezier(0.2, 0, 0, 1), box-shadow 0.5s cubic-bezier(0.2, 0, 0, 1);
    }
    .thumb::after{content:"âœ¨";font-weight:800;font-size:26px;color: var(--md-sys-color-on-primary-container);text-shadow:0 2px 10px rgba(255,255,255,.5); display:grid; place-items:center; height:100%; transition: color 0.5s cubic-bezier(0.2, 0, 0, 1);}
    .titleRow{display:flex;justify-content:space-between;align-items:center;gap:10px;}
    .t{margin:0;font-weight:700;letter-spacing:.1px; font-size: 1.4em; color: var(--md-sys-color-on-surface); transition: color 0.5s cubic-bezier(0.2, 0, 0, 1);}
    .tag{color:var(--md-sys-color-on-surface-variant);font-size:14px; transition: color 0.5s cubic-bezier(0.2, 0, 0, 1);} /* Slightly larger tag font */
    .controls{display:flex;align-items:center;gap:10px;margin-top:15px; flex-wrap: wrap;} /* Increased margin, allow wrap */
    .btn{
      appearance:none;border:none;cursor:pointer;position:relative;
      padding:12px 20px; /* Increased padding */
      border-radius:var(--m3-shape-corner-full); /* M3 Full shape */
      font-weight:600;color:var(--md-sys-color-primary); /* Use primary for text buttons */
      background:transparent; /* Text button style */
      border:1px solid var(--md-sys-color-outline); /* Outlined button style */
      box-shadow:none;
      overflow:hidden;
      transition:transform .2s cubic-bezier(0.2, 0, 0, 1), box-shadow .2s cubic-bezier(0.2, 0, 0, 1), background .3s cubic-bezier(0.2, 0, 0, 1), border-color .3s cubic-bezier(0.2, 0, 0, 1), color .3s cubic-bezier(0.2, 0, 0, 1);
    }
    .btn:hover{
      transform:translateY(-2px);
      border-color:var(--md-sys-color-primary);
      background:var(--md-sys-color-primary-container);
      color: var(--md-sys-color-on-primary-container);
      box-shadow:0 2px 10px rgba(var(--md-sys-color-primary-rgb), 0.3);
    }
    .btn:active{transform:translateY(0) scale(.98);} /* More pronounced active state */
    .download-btn {
        background-color: var(--md-sys-color-secondary); /* Use secondary color for download */
        color: var(--md-sys-color-on-secondary);
        border: 1px solid var(--md-sys-color-secondary);
        box-shadow: 0 5px 15px rgba(var(--md-sys-color-secondary-rgb), 0.5);
        transition: all 0.4s cubic-bezier(0.2, 0, 0, 1); /* Add transition for download button */
    }
    .download-btn:hover {
        background-color: color-mix(in srgb, var(--md-sys-color-secondary) 90%, var(--md-sys-color-on-secondary));
        border-color: color-mix(in srgb, var(--md-sys-color-secondary) 90%, var(--md-sys-color-on-secondary));
        box-shadow: 0 8px 20px rgba(var(--md-sys-color-secondary-rgb), 0.6);
        transform: translateY(-2px); /* Lift on hover */
    }
    .description-toggle{
      background-color: transparent;
      color: var(--md-sys-color-primary);
      border: none; /* Text button style */
      box-shadow: none;
      padding: 10px 0;
      border-radius: var(--m3-shape-corner-full);
      font-weight: 500;
      text-align: left;
      transition: background-color 0.4s cubic-bezier(0.2, 0, 0, 1), color 0.4s cubic-bezier(0.2, 0, 0, 1);
    }
    .description-toggle:hover {
        background-color: var(--md-sys-color-primary-container);
        color: var(--md-sys-color-on-primary-container);
        border: none;
        box-shadow: none;
    }

    /* Keyframe animation for fade-in effect */
    .fade-in{opacity:0;transform:translateY(15px);animation:fade-up-in .8s cubic-bezier(0.2, 0, 0, 1) forwards;} /* Adjusted animation */
    .fade-in:nth-child(1){animation-delay:.1s} .fade-in:nth-child(2){animation-delay:.18s}
    .fade-in:nth-child(3){animation-delay:.26s} .fade-in:nth-child(4){animation-delay:.34s}
    @keyframes fade-up-in{to{opacity:1;transform:none}} /* New keyframe for subtle upward motion */

    /* Media queries for responsiveness */
    @media (max-width:768px){
      .grid{padding-left:20px;padding-right:20px;}
       .flex.items-center.gap-4 { /* Adjust the dynamic color/theme switch area */
            flex-direction: column;
            align-items: flex-start;
            width: 100%;
            margin-top: 15px;
            gap: 10px;
        }
        .flex.items-center.gap-4 label {
            width: 100%;
            text-align: left;
        }
        .flex.items-center.gap-4 #theme-picker,
        .flex.items-center.gap-4 #theme-toggle-button {
            width: 100%;
            max-width: none; /* Remove max-width for full width */
            text-align: center;
        }
    }



    /*nav*/
    @media (max-width: 768px) {
    .wrap {
        padding-left: 20px;
        padding-right: 20px;
        flex-direction: column;
        align-items: flex-start;
    }
    nav {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
        width: 100%;
        margin-top: 20px;
    }
    nav a.nav-link {
        width: 100%;
        text-align: center;
    }
        .hero {
        padding: 80px 20px 60px;
    }
    .hero h1 {
        font-size: clamp(36px, 10vw, 60px);
    }
    .hero p {
        font-size: clamp(16px, 3vw, 20px);
    }
    .hero-buttons {
        flex-direction: column;
        gap: 15px;
    }
    .hero-buttons .btn-hero {
        width: 90%;
        max-width: 300px;
        text-align: center;
    }
      .cta-buttons {
        flex-direction: column;
        align-items: flex-start;
        width: 100%;
        margin-top: 15px;
    }
    .cta-buttons .btn-action {
        width: 100%;
        text-align: center;
    }

}

    /* Image modal styles */
    .image-modal{
    position:fixed;
    top:0;left:0;
    width:100%;height:100%;
    background:rgba(0, 0, 0, 0.88);
    display:flex;justify-content:center;align-items:center;
    z-index:102;
    opacity:0;visibility:hidden;
    transition:opacity .4s cubic-bezier(0.2, 0, 0, 1), visibility .4s cubic-bezier(0.2, 0, 0, 1);
    backdrop-filter:blur(15px); /* Increased blur */
    -webkit-backdrop-filter:blur(15px);
    }
    .image-modal.visible{opacity:1;visibility:visible;}
    .image-modal-content{
    position:relative;
    max-width:90%;
    max-height:90%;
    display:flex;justify-content:center;align-items:center;
    }
    .image-modal-content img{
    max-width:100%;max-height:100%;
    border-radius:var(--m3-shape-corner-xl); /* M3 Extra large shape */
    box-shadow:0 30px 60px rgba(0,0,0,0.7); /* Deeper shadow for modal */
    transform:scale(0.8);
    opacity:0;
    transition:transform .5s cubic-bezier(0.2, 0, 0, 1), opacity .5s cubic-bezier(0.2, 0, 0, 1);
    }
    .image-modal.visible .image-modal-content img{transform:scale(1);opacity:1;}
    .modal-close-btn{
    position:absolute;
    top:30px;right:30px; /* Slightly more space from edge */
    color:var(--md-sys-color-on-surface); /* M3 on-surface */
    font-size:3rem; /* Larger close button */
    cursor:pointer;
    transition:color .3s cubic-bezier(0.2, 0, 0, 1), transform .3s cubic-bezier(0.2, 0, 0, 1);
    background:var(--md-sys-color-surface-container-high); /* M3 surface container high */
    border-radius:50%;
    padding:8px 20px; /* Increased padding */
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }
    .modal-close-btn:hover{color:var(--md-sys-color-primary);transform:rotate(90deg) scale(1.1);} /* Subtle scale on hover */
    .portfolio-description-container{
    max-height:90px;
    overflow:hidden;
    transition:max-height .7s cubic-bezier(0.4, 0, 0.2, 1); /* M3 easing curve */
    position:relative;
    color:var(--md-sys-color-on-surface-variant); /* M3 on-surface-variant */
    font-size:clamp(16px, 1.8vw, 18px); /* Slightly larger font */
    margin-bottom:15px;
    line-height:1.6;
    }
    .portfolio-description-container.expanded{max-height:1000px;}
    .portfolio-description-container:not(.expanded)::after{
    content:"";
    position:absolute;
    bottom:0;left:0;right:0;
    height:60px; /* Taller gradient */
    background:linear-gradient(
        to bottom,
        rgba(var(--md-sys-color-background-rgb), 0),
        rgba(var(--md-sys-color-background-rgb), 1)
    );
    pointer-events:none;
    transition:opacity .4s cubic-bezier(0.2, 0, 0, 1);
    }

    /* Social links styling in footer */
    .social-links{
    display:flex;
    justify-content:center;
    gap:30px;
    height: 100px;
    margin:40px 10px 50px;
    position:relative;
    bottom:0;
    }
    .social-icon{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    width:60px; /* Slightly larger icon */
    height:60px;
    border-radius:var(--m3-shape-corner-full);
    color:var(--md-sys-color-primary); /* M3 primary color */
    font-size:1.6rem; /* Slightly larger font */
    transition:all .3s cubic-bezier(0.2, 0, 0, 1);
    box-shadow:0 5px 15px rgba(0,0,0,.25); /* Lighter shadow */
    background:var(--md-sys-color-surface-container-high); /* M3 surface container high */
    border:1px solid var(--md-sys-color-outline-variant);
    }
    .social-icon:hover{transform:translateY(-8px) scale(1.12);border-color:var(--md-sys-color-primary); box-shadow:0 10px 25px rgba(0,0,0,.35);}
    /* Specific hover effects for each social icon */
    #ins:hover{background:var(--md-sys-color-tertiary); color:var(--md-sys-color-on-tertiary);box-shadow:0 8px 20px rgba(var(--md-sys-color-tertiary-rgb),0.5); }
    #git:hover{background:var(--md-sys-color-on-surface); color:var(--md-sys-color-inverse-on-surface);box-shadow:0 8px 20px rgba(var(--md-sys-color-on-surface-rgb),0.5);}
    #link:hover{background:var(--md-sys-color-primary); color:var(--md-sys-color-on-primary);box-shadow:0 8px 20px rgba(var(--md-sys-color-primary-rgb),0.5);}
    #pint:hover{background:var(--md-sys-color-secondary); color:var(--md-sys-color-on-secondary);box-shadow:0 8px 20px rgba(var(--md-sys-color-secondary-rgb),0.5);}

    /* Scroll-to-top button styles */
    .scroll-top {
        position: fixed;
        bottom: 30px;
        right: 30px;
        background-color: var(--md-sys-color-primary); /* M3 primary color */
        color: var(--md-sys-color-on-primary);
        border: none;
        border-radius: var(--m3-shape-corner-full);
        width: 60px; /* Slightly larger */
        height: 60px;
        font-size: 28px; /* Larger icon */
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.4s cubic-bezier(0.2, 0, 0, 1), visibility 0.4s cubic-bezier(0.2, 0, 0, 1), transform 0.4s cubic-bezier(0.2, 0, 0, 1), background-color 0.4s cubic-bezier(0.2, 0, 0, 1);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        z-index: 100;
    }
    .scroll-top.visible {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }
    .scroll-top:hover {
        transform: translateY(-6px); /* More pronounced lift */
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.5);
        background-color: color-mix(in srgb, var(--md-sys-color-primary) 90%, var(--md-sys-color-on-primary));
    }
    .scroll-top:active {
        transform: translateY(0);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
  </style>
</head>
<body class="page-loaded">
  <header>
    <div class="wrap">
      <a class="brand" href="#top">
        <div class="brand-logo" aria-hidden="true"></div>
        PixelNest
      </a>
      <nav>
        <a class="nav-link page-transition-link" href="#top">Home</a>
        <a class="nav-link page-transition-link" href="#about">About</a>
        <a class="nav-link page-transition-link" href="Feedback.html">Feedback</a>
        <a class="nav-link page-transition-link" href="#">About Me</a>
        <div class="cta-buttons">
            <a class="btn-action btn-auralis page-transition-link" href="musicmaterial.html">Auralis</a>
        </div>
      </nav>
       <div class="flex items-center gap-4 ml-auto">
        <label for="theme-picker" class="text-sm font-medium" style="color: var(--md-sys-color-on-surface-variant);">Source Color:</label>
        <input type="color" id="theme-picker" value="#9b59b6" class="w-8 h-8 rounded-full border-2" style="border-color: var(--md-sys-color-outline); background-color: transparent; cursor: pointer;">
        <button id="theme-toggle-button" class="m3-toggle-button">Switch to Light</button>
      </div>
    </div>
  </header>
  <section class="hero" id="top">
    <h1>Capture Moments, Create Art, <br>Share Your Vision.</h1>
    <p>PixelNest is your digital canvas to showcase stunning photography and visual art. Experience smooth animations, interactive elements, and a dynamic dark theme that brings your creations to life.</p>
    <div class="hero-buttons">
      <a class="btn-hero" href="#portfolio-section">Explore Gallery</a>
      <a class="btn-hero" href="#">Contact Us</a>
    </div>
  </section>
  <main id="portfolio-section" class="grid wrap">
    <!-- Portfolio items (articles) now use <picture> for WebP and JPG fallback -->
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image1.webp">
              <source type="image/jpeg" srcset="Media/image1.jpg">
              <img src="Media/image1.jpg" alt="Mountain Landscape" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Celestial Titan</h3>
            <span class="tag">Landscape Â· Cloudscape</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description">At twilight's edge, a colossal cumulus cloud ascends, its foundation kissed with the day's final golden light. Against a deepening azure sky, its brilliant white summit reaches for the encroaching darkness of brooding storm clouds gathering above.</p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Cumulus</span>
              <span class="pill">Twilight</span>
              <span class="pill">Dramatic</span>
              <!-- Download button moved inside the card body -->
              <a href="Media/image1.webp" class="btn download-btn" download="mountain-landscape.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image2.webp">
              <source type="image/jpeg" srcset="Media/image2.jpg">
              <img src="Media/image2.jpg" alt="Forest Path" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Urban Inferno</h3>
            <span class="tag">Cityscape Â· Sunset</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description">A city's rooftops are silhouetted against a sky ablaze, where the dying sun sets the clouds afire in a breathtaking display of fiery orange and crimson. Above, a deep, brooding expanse of storm clouds encroaches, their charcoal forms a dramatic contrast to the vibrant spectacle below.</p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Sunset</span>
              <span class="pill">Cityscape</span>
              <span class="pill">Stormy</span>
              <a href="Media/image2.webp" class="btn download-btn" download="forest-path.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image3.webp">
              <source type="image/jpeg" srcset="Media/image3.jpg">
              <img src="Media/image3.jpg" alt="Ocean Waves" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Twilight's Woven Sky</h3>
            <span class="tag">Industrial Â· Sky</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description">An electric symphony of color paints the sky as the sun dips below the horizon. Below, a line of trees stands as a dark, jagged silhouette, while the powerful lines of human endeavor stretch towards the vanishing light. Above, clouds drift in a magnificent mosaic of soft blues, fiery oranges, and deep grays, a fleeting canvas of nature's artistry.</p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Sunset</span>
              <span class="pill">Skyline</span>
              <span class="pill">Industrial</span>
              <a href="Media/image3.webp" class="btn download-btn" download="ocean-waves.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image4.webp">
              <source type="image/jpeg" srcset="Media/image4.jpg">
              <img src="Media/image4.jpg" alt="Misty Mountains" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Golden Fields</h3>
            <span class="tag">Nature Â· Blossoms</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description">A sea of vibrant yellow blossoms stretches to the horizon, a golden carpet under a vast, cerulean sky dotted with fluffy white clouds. In the foreground, a pair of delicate flowers stands sentinel, their cheerful faces turned toward the light, a testament to the quiet, persistent beauty of the wild.</p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Meadow</span>
              <span class="pill">Blossoms</span>
              <span class="pill">Serene</span>
              <a href="Media/image4.webp" class="btn download-btn" download="misty-mountains.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image5.webp">
              <source type="image/jpeg" srcset="Media/image5.jpg">
              <img src="Media/image5.jpg" alt="Desert Dunes" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Sun-Kissed Canyon</h3>
            <span class="tag">Desert Â· Landscape</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description"> In the last, golden hours of the day, a rugged and ancient landscape is bathed in a warm, ethereal glow. The sun's low angle etches deep shadows into the rolling hills, revealing the subtle contours and varied textures of the land. The sky above, a soft palette of blue and white, provides a serene backdrop to this timeless panorama.
              </p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Hills</span>
              <span class="pill">Desert</span>
              <span class="pill">Golden</span>
              <a href="Media/image5.webp" class="btn download-btn" download="desert-dunes.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image6.webp">
              <source type="image/jpeg" srcset="Media/image6.jpg">
              <img src="Media/image6.jpg" alt="Colorful Sky" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">The Day's Last Fire</h3>
            <span class="tag">Sunset Â· Rocky</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description">The sun, a blinding orb of pure fire, sinks below the distant horizon, casting long rays of golden light across a harsh and rocky foreground. The sky explodes in a riot of color, with hues of deep orange, amber, and soft peach painting the clouds, signaling the day's magnificent, final act.</p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Sunset</span>
              <span class="pill">Rocky</span>
              <span class="pill">Vibrant</span>
              <a href="Media/image6.webp" class="btn download-btn" download="colorful-sky.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image7.webp">
              <source type="image/jpeg" srcset="Media/image7.jpg">
              <img src="Media/image7.jpg" alt="Colorful Sky" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Oasis Reflection</h3>
            <span class="tag">Oasis Â· Reflection</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description">  Beneath a vast, clear sky, a secluded oasis thrives. A stately palm tree stands tall beside a tranquil pool, its reflection a mirror image on the still, dark water. The surrounding arid landscape, a mix of pale rocks and sparse vegetation, frames this vibrant pocket of life, a beautiful and surprising sanctuary in the wilderness.
              </p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Oasis</span>
              <span class="pill">Palm tree</span>
              <span class="pill">Reflection</span>
              <a href="Media/image7.webp" class="btn download-btn" download="colorful-sky.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image8.webp">
              <source type="image/jpeg" srcset="Media/image8.jpg">
              <img src="Media/image8.jpg" alt="Colorful Sky" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Desert Mirror</h3>
            <span class="tag">Canyon Â· Mirrored</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description"> In a hidden canyon, a natural spring creates a pool of perfectly still water, reflecting the surrounding rugged beauty with pristine clarity. The inverted image of two date palms, with their fronds reaching for the sky, is mirrored on the dark surface, creating an illusion of a secret world beneath the water's surface.
              </p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Oasis</span>
              <span class="pill">Mirrored</span>
              <span class="pill">Canyon</span>
              <a href="Media/image8.webp" class="btn download-btn" download="colorful-sky.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image9.webp">
              <source type="image/jpeg" srcset="Media/image9.jpg">
              <img src="Media/image9.jpg" alt="Colorful Sky" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Canyon Spring</h3>
            <span class="tag">Spring Â· Tranquil</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description">A peaceful watering hole is a jewel in a rugged landscape, its glassy surface reflecting the jagged, sun-drenched cliffs that surround it. Reeds and tall grasses frame the water, adding a touch of softness to the scene. The deep blue of the pool stands out against the muted tones of the earth, a tranquil and vital heart in this wild terrain</p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Spring</span>
              <span class="pill">Rugged</span>
              <span class="pill">Tranquil</span>
              <a href="Media/image9.webp" class="btn download-btn" download="colorful-sky.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image10.webp">
              <source type="image/jpeg" srcset="Media/image10.jpg">
              <img src="Media/image10.jpg" alt="Colorful Sky" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Desert Mirror</h3>
            <span class="tag">Canyon Â· Mirrored</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description"> In a hidden canyon, a natural spring creates a pool of perfectly still water, reflecting the surrounding rugged beauty with pristine clarity. The inverted image of two date palms, with their fronds reaching for the sky, is mirrored on the dark surface, creating an illusion of a secret world beneath the water's surface.
              </p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Oasis</span>
              <span class="pill">Mirrored</span>
              <span class="pill">Canyon</span>
              <a href="Media/image10.webp" class="btn download-btn" download="colorful-sky.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image11.webp">
              <source type="image/jpeg" srcset="Media/image11.jpg">
              <img src="Media/image11.jpg" alt="Colorful Sky" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Desert Mirror</h3>
            <span class="tag">Canyon Â· Mirrored</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description"> In a hidden canyon, a natural spring creates a pool of perfectly still water, reflecting the surrounding rugged beauty with pristine clarity. The inverted image of two date palms, with their fronds reaching for the sky, is mirrored on the dark surface, creating an illusion of a secret world beneath the water's surface.
              </p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Oasis</span>
              <span class="pill">Mirrored</span>
              <span class="pill">Canyon</span>
              <a href="Media/image11.webp" class="btn download-btn" download="colorful-sky.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image12.webp">
              <source type="image/jpeg" srcset="Media/image12.jpg">
              <img src="Media/image12.jpg" alt="Colorful Sky" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Desert Mirror</h3>
            <span class="tag">Canyon Â· Mirrored</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description"> In a hidden canyon, a natural spring creates a pool of perfectly still water, reflecting the surrounding rugged beauty with pristine clarity. The inverted image of two date palms, with their fronds reaching for the sky, is mirrored on the dark surface, creating an illusion of a secret world beneath the water's surface.
              </p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Oasis</span>
              <span class="pill">Mirrored</span>
              <span class="pill">Canyon</span>
              <a href="Media/image12.webp" class="btn download-btn" download="colorful-sky.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image13.webp">
              <source type="image/jpeg" srcset="Media/image13.jpg">
              <img src="Media/image13.jpg" alt="Colorful Sky" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Desert Mirror</h3>
            <span class="tag">Canyon Â· Mirrored</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description"> In a hidden canyon, a natural spring creates a pool of perfectly still water, reflecting the surrounding rugged beauty with pristine clarity. The inverted image of two date palms, with their fronds reaching for the sky, is mirrored on the dark surface, creating an illusion of a secret world beneath the water's surface.
              </p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Oasis</span>
              <span class="pill">Mirrored</span>
              <span class="pill">Canyon</span>
              <a href="Media/image13.webp" class="btn download-btn" download="colorful-sky.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image14.webp">
              <source type="image/jpeg" srcset="Media/image14.jpg">
              <img src="Media/image14.jpg" alt="Colorful Sky" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Desert Mirror</h3>
            <span class="tag">Canyon Â· Mirrored</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description"> In a hidden canyon, a natural spring creates a pool of perfectly still water, reflecting the surrounding rugged beauty with pristine clarity. The inverted image of two date palms, with their fronds reaching for the sky, is mirrored on the dark surface, creating an illusion of a secret world beneath the water's surface.
              </p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Oasis</span>
              <span class="pill">Mirrored</span>
              <span class="pill">Canyon</span>
              <a href="Media/image14.webp" class="btn download-btn" download="colorful-sky.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image15.webp">
              <source type="image/jpeg" srcset="Media/image15.jpg">
              <img src="Media/image15.jpg" alt="Colorful Sky" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Desert Mirror</h3>
            <span class="tag">Canyon Â· Mirrored</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description"> In a hidden canyon, a natural spring creates a pool of perfectly still water, reflecting the surrounding rugged beauty with pristine clarity. The inverted image of two date palms, with their fronds reaching for the sky, is mirrored on the dark surface, creating an illusion of a secret world beneath the water's surface.
              </p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Oasis</span>
              <span class="pill">Mirrored</span>
              <span class="pill">Canyon</span>
              <a href="Media/image15.webp" class="btn download-btn" download="colorful-sky.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
    <article class="card fade-in">
      <div class="portfolio-img-container">
          <picture>
              <source type="image/webp" srcset="Media/image16.webp">
              <source type="image/jpeg" srcset="Media/image16.jpg">
              <img src="Media/image16.jpg" alt="Colorful Sky" class="portfolio-img" loading="lazy">
          </picture>
      </div>
      <div class="meta">
        <div class="thumb" aria-hidden="true"></div>
        <div>
          <div class="titleRow">
            <h3 class="t">Desert Mirror</h3>
            <span class="tag">Canyon Â· Mirrored</span>
          </div>
          <div class="tag">By Hama Ben Hama</div>
        </div>
      </div>
      <div class="portfolio-content">
          <div class="portfolio-description-container">
              <p class="portfolio-description"> In a hidden canyon, a natural spring creates a pool of perfectly still water, reflecting the surrounding rugged beauty with pristine clarity. The inverted image of two date palms, with their fronds reaching for the sky, is mirrored on the dark surface, creating an illusion of a secret world beneath the water's surface.
              </p>
          </div>
          <a href="#" class="description-toggle"><span>Show More</span></a>
          <div class="portfolio-tags controls">
              <span class="pill">Oasis</span>
              <span class="pill">Mirrored</span>
              <span class="pill">Canyon</span>
              <a href="Media/image16.webp" class="btn download-btn" download="colorful-sky.webp">â¬‡ Download</a>
          </div>
      </div>
    </article>
  </main>
  <section id="about" class="wrap" style="padding-bottom:80px;">
    <div class="card" style="padding:24px;">
      <h3 class="t" style="margin:0 0 8px;">About PixelNest</h3>
      <p class="tag" style="margin:0 0 12px;">PixelNest is a creative gallery dedicated to showcasing stunning photography and visual art. Discover unique perspectives and inspiring visuals from talented artists.</p>
      <ul class="tag" style="margin:0 0 4px; line-height:1.9;">
        <li>Explore a curated collection of high-quality images.</li>
        <li>Download images freely for personal use.</li>
        <li>Experience a beautifully designed interface with smooth transitions.</li>
        <li><div class="tiny">Â© <span id="y"></span> PixelNest Creative Gallery Â· Built with â™¥</div></li>
        <li><div class="tiny" id="alert" style="margin-top: 10px ; color:var(--md-sys-color-primary);font-size: 16px;">Welcome to PixelNest! Dive into a world where every pixel tells a story.</div></li>
        <div style="text-align: center;font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif; font-size: 18px;text-decoration: none;padding: 10px;">Version 2.0</div>
      </ul>
    </div>
  </section>
  <footer>
    <div class="social-links">
        <a href="https://www.instagram.com/hama.ben.hama/" class="social-icon" id="ins"><i class="fab fa-instagram"></i></a>
        <a href="https://github.com/MoHamed-B-M" class="social-icon" id="git"><i class="fab fa-github"></i></a>
        <a href="https://shorturl.at/kTkKa" class="social-icon" id="link"><i class="fab fa-linkedin-in"></i></a>
        <a href="https://www.pinterest.com/1redphoenix/" class="social-icon" id="pint"><i class="fab fa-pinterest"></i></a>
    </div>
  </footer>
  <div class="image-modal" id="imageModal">
      <span class="modal-close-btn">&times;</span>
      <div class="image-modal-content">
          <img src="" alt="Enlarged Image" id="modalImage">
      </div>
  </div>
  <!-- Scroll to Top Button -->
  <button class="scroll-top"><i class="fas fa-arrow-up"></i></button>
  <script type="module">
    import {
      argbFromHex,
      themeFromSourceColor,
      applyTheme,
    } from 'https://cdn.jsdelivr.net/npm/@material/material-color-utilities@0.2.1/+esm';

    document.addEventListener('DOMContentLoaded', function() {
      // Add 'page-loaded' class for initial fade-in transition
      document.body.classList.add('page-loaded');

      const themePicker = document.getElementById('theme-picker');
      const themeToggleButton = document.getElementById('theme-toggle-button');

      let currentSourceColor = argbFromHex(themePicker.value);
      // Initialize with system preference, or default to dark if no preference
      let isDarkTheme = window.matchMedia("(prefers-color-scheme: dark)").matches;
      // You can also override this to always start with dark:
      // let isDarkTheme = true;

      const updateTheme = (sourceColor, isDark) => {
        const theme = themeFromSourceColor(sourceColor);
        const scheme = isDark ? theme.schemes.dark : theme.schemes.light;

        // Apply theme to the document body
        applyTheme(theme, { target: document.body, dark: isDark });

        // Update CSS custom properties for RGB values for shadows and gradients
        const primaryRgb = hexToRgb(scheme.primary);
        const secondaryRgb = hexToRgb(scheme.secondary);
        const tertiaryRgb = hexToRgb(scheme.tertiary);
        const onSurfaceRgb = hexToRgb(scheme.onSurface);
        const backgroundRgb = hexToRgb(scheme.background);

        document.body.style.setProperty('--md-sys-color-primary-rgb', `${primaryRgb.r}, ${primaryRgb.g}, ${primaryRgb.b}`);
        document.body.style.setProperty('--md-sys-color-secondary-rgb', `${secondaryRgb.r}, ${secondaryRgb.g}, ${secondaryRgb.b}`);
        document.body.style.setProperty('--md-sys-color-tertiary-rgb', `${tertiaryRgb.r}, ${tertiaryRgb.g}, ${tertiaryRgb.b}`);
        document.body.style.setProperty('--md-sys-color-on-surface-rgb', `${onSurfaceRgb.r}, ${onSurfaceRgb.g}, ${onSurfaceRgb.b}`);
        document.body.style.setProperty('--md-sys-color-background-rgb', `${backgroundRgb.r}, ${backgroundRgb.g}, ${backgroundRgb.b}`);
        
        // Update the button text
        themeToggleButton.textContent = isDark ? 'Switch to Light' : 'Switch to Dark';

        // Add/remove a class to the body for specific light/dark theme fallbacks if needed
        if (isDark) {
            document.body.classList.remove('light');
        } else {
            document.body.classList.add('light');
        }
      };

      // Helper function to convert hex to RGB object
      function hexToRgb(hex) {
          if (typeof hex === 'number') {
              hex = '#' + (hex & 0xFFFFFF).toString(16).padStart(6, '0');
          }
          const r = parseInt(hex.substring(1, 3), 16);
          const g = parseInt(hex.substring(3, 5), 16);
          const b = parseInt(hex.substring(5, 7), 16);
          return { r, g, b };
      }

      themePicker.addEventListener('input', (e) => {
        const color = e.target.value;
        currentSourceColor = argbFromHex(color);
        updateTheme(currentSourceColor, isDarkTheme);
      });
      
      themeToggleButton.addEventListener('click', () => {
        isDarkTheme = !isDarkTheme;
        updateTheme(currentSourceColor, isDarkTheme);
      });

      // Initial theme setup on page load
      updateTheme(currentSourceColor, isDarkTheme);


      // Handle page transitions for internal links
      const transitionLinks = document.querySelectorAll('.page-transition-link');
      transitionLinks.forEach(link => {
          link.addEventListener('click', function(e) {
              const targetUrl = this.href;
              // Only apply transition if it's an internal link and not a hash link on the same page
              if (targetUrl && targetUrl !== window.location.href + "#" && targetUrl !== window.location.href && !targetUrl.startsWith('#')) {
                  e.preventDefault(); // Prevent default navigation
                  document.body.classList.remove('page-loaded');
                  document.body.classList.add('page-leaving'); // Add 'page-leaving' class for fade-out
                  setTimeout(() => {
                      window.location.href = targetUrl; // Navigate after transition
                  }, 500); // Match CSS transition duration
              }
          });
      });

      // Re-add 'page-loaded' if navigating back via browser history (persisted property)
      window.addEventListener('pageshow', function(event) {
          if (event.persisted) {
              document.body.classList.remove('page-leaving');
              document.body.classList.add('page-loaded');
          }
      });

      // Update copyright year dynamically
      var yearEl = document.getElementById('y');
      if (yearEl) yearEl.textContent = String(new Date().getFullYear());

      // --- Performance Optimization: Event Delegation ---
      const mainContent = document.getElementById('portfolio-section');
      const imageModal = document.getElementById('imageModal');
      const modalImage = document.getElementById('modalImage');
      const modalCloseBtn = document.querySelector('.modal-close-btn');

      if (mainContent) {
          mainContent.addEventListener('click', function(e) {
              // Handle download buttons
              const downloadBtn = e.target.closest('.download-btn');
              if (downloadBtn) {
                  e.preventDefault();
                  // For the download button moved into the card body, its 'href' is already the correct image path.
                  const imageUrl = downloadBtn.href;
                  const imageName = downloadBtn.getAttribute('download'); 
                  
                  // Create a temporary anchor element for download
                  const a = document.createElement('a');
                  a.href = imageUrl;
                  a.download = imageName;
                  document.body.appendChild(a);
                  a.click();
                  document.body.removeChild(a);
                  
                  // Provide feedback to the user
                  const originalText = downloadBtn.innerHTML;
                  downloadBtn.innerHTML = 'Downloaded!';
                  setTimeout(() => {
                      downloadBtn.innerHTML = originalText;
                  }, 2000);
                  return; // Exit after handling download
              }

              // Handle image modal opening
              const portfolioImgContainer = e.target.closest('.portfolio-img-container');
              if (portfolioImgContainer) {
                  // Get the correct WebP URL for modal display
                  const pictureElement = portfolioImgContainer.querySelector('picture');
                  // Prioritize WebP, fallback to JPEG
                  const sourceWebp = pictureElement.querySelector('source[type="image/webp"]');
                  const imageUrl = sourceWebp ? sourceWebp.srcset : pictureElement.querySelector('img').src;

                  modalImage.src = imageUrl;
                  imageModal.classList.add('visible');
                  document.body.style.overflow = 'hidden'; // Prevent background scrolling
                  return; // Exit after handling image click
              }

              // Handle description toggles
              const descriptionToggle = e.target.closest('.description-toggle');
              if (descriptionToggle) {
                  e.preventDefault();
                  const container = descriptionToggle.previousElementSibling;
                  container.classList.toggle('expanded');
                  const span = descriptionToggle.querySelector('span');
                  if (container.classList.contains('expanded')) {
                      span.textContent = 'Show Less';
                  } else {
                      span.textContent = 'Show More';
                  }
                  return; // Exit after handling toggle
              }
          });
      }

      // Close image modal when close button or overlay is clicked
      if (modalCloseBtn) {
          modalCloseBtn.addEventListener('click', () => {
              imageModal.classList.remove('visible');
              document.body.style.overflow = ''; // Restore background scrolling
          });
      }
      if (imageModal) {
          imageModal.addEventListener('click', (e) => {
              if (e.target === imageModal) { // Only close if clicking on the overlay, not the image itself
                  imageModal.classList.remove('visible');
                  document.body.style.overflow = '';
              }
          });
      }
      // --- End Event Delegation ---

      // Scroll-to-top button functionality
      const scrollTopBtn = document.querySelector('.scroll-top');
      if (scrollTopBtn) {
          const handleScroll = () => {
              if (window.scrollY > 300) {
                  scrollTopBtn.classList.add('visible');
              } else {
                  scrollTopBtn.classList.remove('visible');
              }
          };
          window.addEventListener('scroll', handleScroll, { passive: true }); // Use passive listener for performance
          scrollTopBtn.addEventListener('click', () => {
              window.scrollTo({ top: 0, behavior: 'smooth' });
          });
      }

      // Item visibility and animation on scroll (already throttled)
      const portfolioItems = document.querySelectorAll('.card.fade-in');
      const isInViewport = (el) => {
          const rect = el.getBoundingClientRect();
          return (
              rect.top <= (window.innerHeight * 0.9) &&
              rect.bottom >= (window.innerHeight * 0.1)
          );
      };
      const itemVisibility = new Array(portfolioItems.length).fill(false);
      let isThrottled = false;
      const throttleDelay = 100; // Throttle delay for animation check
      const throttledCheckAndAnimateItems = () => {
          if (!isThrottled) {
              isThrottled = true;
              requestAnimationFrame(() => {
                  portfolioItems.forEach((item, index) => {
                      if (isInViewport(item) && !itemVisibility[index]) {
                          item.style.animationDelay = `${index * 0.08 + 0.1}s`;
                          item.style.animationName = 'fade-up-in'; // Use new animation name
                          item.style.opacity = '1';
                          item.style.transform = 'none';
                          itemVisibility[index] = true;
                      }
                  });
                  setTimeout(() => {
                      isThrottled = false;
                  }, throttleDelay);
              });
          }
      };
      throttledCheckAndAnimateItems(); // Initial check on load
      window.addEventListener('scroll', throttledCheckAndAnimateItems, { passive: true }); // Passive scroll listener
    });
  </script>
</body>
</html>
